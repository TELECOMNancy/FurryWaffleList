<!--><pre>
    {{ list | async | json }}
</pre>
-->

<div id="waffle-list-container">
  <md-card class="waffle-list">
    <md-card-header>
       <div md-card-avatar>
         <img src="https://akimg2.ask.fm/assets2/060/372/337/664/normal/av_e1019141bd22089d0fff2701ddac2914.jpg" alt="">
       </div>
      <md-card-title>
        {{ (list | async)?.name }}
      </md-card-title>
      <md-card-subtitle>Le gras, c'est la vie!</md-card-subtitle>
    </md-card-header>
    <div class="waffle-list-illustration">
      <img src="http://i.imgur.com/Ajlyv.jpg">
    </div>
    <md-card-content>
      <p>
        Pour cette semaine de coding week, M Charoy paye le barbecue et la binouze ce vendredi.
        Il faut qu'on se repartisse les achats pour la soir√©e ;).
      </p>
      <md-list >
        <md-list-item *ngFor="let item of itemElements | async">
          <!--<md-checkbox [(ngModel)]="indeterminate">Indeterminate</md-checkbox>-->
          <div *ngIf="item"  class="item-container">
            <div *ngIf="(list | async)?.vote == true ; else elseBlock">
              {{ item.name }}
              {{ item.voteValue}}
              <md-icon  (click)="deleteElement(item.$key)">clear</md-icon>
              <md-icon  (click)="addVote(item.$key, item.voteValue)">thumb_up</md-icon>
            </div>
            <ng-template #elseBlock>
              <md-checkbox [checked]=item.checked (click)="updateItem(item.$key, item.checked)"></md-checkbox>
              {{ item.name }}
              <md-icon  (click)="deleteElement(item.$key)">clear</md-icon>
            </ng-template>
          </div>
        </md-list-item>


        <div id="input-item" class="item-container">
          <md-input-container>
            <input mdInput placeholder="Buy saint emilion wine!" (keyup.enter)="addItem($event)" [(ngModel)]="itemInput">
          </md-input-container>
        </div>
      </md-list>

    </md-card-content>
  </md-card>
</div>
